generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "mongodb"
    url      = env("DATABASE_URL")
}

type ServerEnum {
    string String
    type   Int
}

type Server {
    serverId       Int
    serverName     String
    battleye       Boolean
    experimental   Boolean
    serverLocation ServerEnum
    pvpType        ServerEnum
}

type Skills {
    magic     Float
    club      Float
    fist      Float
    sword     Float
    fishing   Float
    axe       Float
    distance  Float
    shielding Float
}

type CharacterItem {
    name   String
    amount Int
}

type Outfit {
    name String
    type Int
}

type CharmInfo {
    expansion Boolean
    total     Int
    unspent   Int
}

type HirelingsInfo {
    count   Int
    jobs    Int
    outfits Int
}

model HistoryAuction {
    id                Int     @id @map("_id")
    nickname          String
    auctionEnd        Int
    currentBid        Int
    hasBeenBidded     Boolean
    outfitId          String
    vocationId        Int
    sex               Boolean
    level             Int
    achievementPoints Int
    bossPoints        Int
    tcInvested        Int
    transfer          Boolean
    preySlot          Boolean
    huntingSlot       Boolean
    serverId          Int

    tags             String[]
    imbuements       String[]
    items            Float[]
    charms           String[]
    quests           String[]
    mounts           String[]
    storeMounts      String[]
    rareAchievements String[]

    storeItems   CharacterItem[]
    outfits      Outfit[]
    storeOutfits Outfit[]

    skills     Skills
    charmInfo  CharmInfo
    hirelings  HirelingsInfo
    serverData Server

    @@index([auctionEnd, level, currentBid])
}

model CurrentAuction {
    id                Int     @id @map("_id")
    nickname          String
    auctionEnd        Int
    currentBid        Int
    hasBeenBidded     Boolean
    outfitId          String
    vocationId        Int
    sex               Boolean
    level             Int
    achievementPoints Int
    bossPoints        Int
    tcInvested        Int
    transfer          Boolean
    preySlot          Boolean
    huntingSlot       Boolean
    serverId          Int

    tags             String[]
    imbuements       String[]
    items            Float[]
    charms           String[]
    quests           String[]
    mounts           String[]
    storeMounts      String[]
    rareAchievements String[]

    storeItems   CharacterItem[]
    outfits      Outfit[]
    storeOutfits Outfit[]

    skills     Skills
    charmInfo  CharmInfo
    hirelings  HirelingsInfo
    serverData Server

    @@index([auctionEnd, level, currentBid])
}
