generator client {
    provider        = "prisma-client-js"
    previewFeatures = ["referentialIntegrity"]
}

datasource db {
    provider             = "mysql"
    url                  = env("DATABASE_URL")
    referentialIntegrity = "prisma"
}

model Server {
    serverName      String    @id
    battleye        Boolean
    experimental    Boolean
    serverLocation  String
    pvpType         String
    active          Boolean
    CharacterObject Auction[]
}

model Tag {
    name       String    @id
    characters Auction[]
}

model Imbuement {
    name       String    @id
    characters Auction[]
}

model Charm {
    name       String    @id
    characters Auction[]
}

model Item {
    name       Int       @id
    characters Auction[]
}

model Quest {
    name       String    @id
    characters Auction[]
}

model Mount {
    name       String    @id
    characters Auction[]
}

model StoreMount {
    name       String    @id
    characters Auction[]
}

model RareAchievement {
    name       String    @id
    characters Auction[]
}

model StoreItem {
    name       String    @id
    amount     Int
    characters Auction[]
}

model Outfit {
    name       String    @id
    type       Int
    characters Auction[]
}

model StoreOutfit {
    name       String    @id
    type       Int
    characters Auction[]
}

model Auction {
    id                Int      @id
    nickname          String
    auctionEnd        DateTime
    currentBid        Int
    hasBeenBidded     Boolean
    outfitId          String
    vocationId        Int
    sex               Boolean
    level             Int
    achievementPoints Int
    bossPoints        Int
    tcInvested        Int
    transfer          Boolean
    preySlot          Boolean
    huntingSlot       Boolean

    magic     Float
    club      Float
    fist      Float
    sword     Float
    fishing   Float
    axe       Float
    distance  Float
    shielding Float

    charmExpansion     Boolean
    charmPoints        Int
    unspentCharmPoints Int

    hirelingCount   Int
    hirelingJobs    Int
    hirelingOutfits Int

    items            Item[]
    imbuements       Imbuement[]
    charms           Charm[]
    tags             Tag[]
    quests           Quest[]
    storeItems       StoreItem[]
    outfits          Outfit[]
    storeOutfits     StoreOutfit[]
    mounts           Mount[]
    storeMounts      StoreMount[]
    rareAchievements RareAchievement[]

    serverData Server @relation(fields: [serverId], references: [serverName])
    serverId   String
}
